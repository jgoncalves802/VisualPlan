/**
 * Dados mocados para o módulo de Cronograma
 */

import { AtividadeMock, DependenciaAtividade, TipoDependencia, UnidadeTempo } from '../types/cronograma';

/**
 * Gera EDT (WBS Code) baseado na hierarquia da atividade
 */
function gerarEDT(parentEdt: string | undefined, index: number): string {
  if (!parentEdt) {
    return `${index}`;
  }
  return `${parentEdt}.${index}`;
}

/**
 * Atividades mockadas de exemplo
 */
export const atividadesMock: AtividadeMock[] = [
  {
    id: 'ativ-1',
    projeto_id: 'proj-1',
    codigo: 'A001',
    edt: '1',
    nome: 'Planejamento do Projeto',
    descricao: 'Reunião inicial e definição de escopo',
    tipo: 'Fase',
    data_inicio: '2024-11-01',
    data_fim: '2024-11-05',
    duracao_dias: 5,
    progresso: 100,
    status: 'Concluída',
    responsavel_id: 'user-1',
    responsavel_nome: 'João Silva',
    setor_id: 'setor-1',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-11-05T18:00:00Z',
  },
  {
    id: 'ativ-2',
    projeto_id: 'proj-1',
    codigo: 'A002',
    edt: '2',
    nome: 'Levantamento de Requisitos',
    descricao: 'Documentação de requisitos funcionais e não funcionais',
    tipo: 'Tarefa',
    data_inicio: '2024-11-06',
    data_fim: '2024-11-12',
    duracao_dias: 7,
    progresso: 100,
    status: 'Concluída',
    responsavel_id: 'user-2',
    responsavel_nome: 'Maria Santos',
    setor_id: 'setor-1',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-11-12T17:00:00Z',
  },
  {
    id: 'ativ-3',
    projeto_id: 'proj-1',
    codigo: 'A003',
    edt: '3',
    nome: 'Design da Arquitetura',
    descricao: 'Definição da arquitetura técnica do sistema',
    tipo: 'Tarefa',
    data_inicio: '2024-11-13',
    data_fim: '2024-11-19',
    duracao_dias: 7,
    progresso: 80,
    status: 'Em Andamento',
    responsavel_id: 'user-3',
    responsavel_nome: 'Pedro Costa',
    setor_id: 'setor-2',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-11-18T16:00:00Z',
  },
  {
    id: 'ativ-4',
    projeto_id: 'proj-1',
    codigo: 'A004',
    edt: '4',
    nome: 'Prototipação UI/UX',
    descricao: 'Criação de protótipos de interface',
    tipo: 'Tarefa',
    data_inicio: '2024-11-13',
    data_fim: '2024-11-20',
    duracao_dias: 8,
    progresso: 60,
    status: 'Em Andamento',
    responsavel_id: 'user-4',
    responsavel_nome: 'Ana Lima',
    setor_id: 'setor-3',
    prioridade: 'Média',
    e_critica: false,
    folga_total: 3,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-11-17T14:00:00Z',
  },
  {
    id: 'ativ-5',
    projeto_id: 'proj-1',
    codigo: 'M001',
    edt: '5',
    nome: 'Aprovação do Design',
    descricao: 'Marco de aprovação das especificações',
    tipo: 'Marco',
    data_inicio: '2024-11-21',
    data_fim: '2024-11-21',
    duracao_dias: 0,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-1',
    responsavel_nome: 'João Silva',
    setor_id: 'setor-1',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-6',
    projeto_id: 'proj-1',
    codigo: 'A005',
    edt: '6',
    nome: 'Desenvolvimento Backend - API Core',
    descricao: 'Desenvolvimento das APIs principais',
    tipo: 'Tarefa',
    data_inicio: '2024-11-22',
    data_fim: '2024-12-10',
    duracao_dias: 19,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-3',
    responsavel_nome: 'Pedro Costa',
    setor_id: 'setor-2',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-7',
    projeto_id: 'proj-1',
    codigo: 'A006',
    edt: '7',
    nome: 'Desenvolvimento Frontend - Componentes Base',
    descricao: 'Criação dos componentes reutilizáveis',
    tipo: 'Tarefa',
    data_inicio: '2024-11-22',
    data_fim: '2024-12-05',
    duracao_dias: 14,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-4',
    responsavel_nome: 'Ana Lima',
    setor_id: 'setor-3',
    prioridade: 'Alta',
    e_critica: false,
    folga_total: 5,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-8',
    projeto_id: 'proj-1',
    codigo: 'A007',
    edt: '8',
    nome: 'Integração Frontend-Backend',
    descricao: 'Integração e testes de integração',
    tipo: 'Tarefa',
    data_inicio: '2024-12-11',
    data_fim: '2024-12-17',
    duracao_dias: 7,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-2',
    responsavel_nome: 'Maria Santos',
    setor_id: 'setor-2',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-9',
    projeto_id: 'proj-1',
    codigo: 'A008',
    edt: '9',
    nome: 'Testes de Qualidade',
    descricao: 'Testes funcionais, integração e E2E',
    tipo: 'Tarefa',
    data_inicio: '2024-12-18',
    data_fim: '2024-12-27',
    duracao_dias: 10,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-5',
    responsavel_nome: 'Carlos Oliveira',
    setor_id: 'setor-4',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-10',
    projeto_id: 'proj-1',
    codigo: 'A009',
    edt: '10',
    nome: 'Documentação Técnica',
    descricao: 'Documentação de APIs e componentes',
    tipo: 'Tarefa',
    data_inicio: '2024-12-06',
    data_fim: '2024-12-20',
    duracao_dias: 15,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-2',
    responsavel_nome: 'Maria Santos',
    setor_id: 'setor-1',
    prioridade: 'Média',
    e_critica: false,
    folga_total: 7,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-11',
    projeto_id: 'proj-1',
    codigo: 'M002',
    edt: '11',
    nome: 'Homologação',
    descricao: 'Marco de homologação do sistema',
    tipo: 'Marco',
    data_inicio: '2024-12-28',
    data_fim: '2024-12-28',
    duracao_dias: 0,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-1',
    responsavel_nome: 'João Silva',
    setor_id: 'setor-1',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  {
    id: 'ativ-12',
    projeto_id: 'proj-1',
    codigo: 'A010',
    edt: '12',
    nome: 'Deploy em Produção',
    descricao: 'Implantação do sistema no ambiente de produção',
    tipo: 'Tarefa',
    data_inicio: '2024-12-29',
    data_fim: '2024-12-31',
    duracao_dias: 3,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-3',
    responsavel_nome: 'Pedro Costa',
    setor_id: 'setor-2',
    prioridade: 'Alta',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-padrao-5x8',
    created_at: '2024-10-01T10:00:00Z',
    updated_at: '2024-10-01T10:00:00Z',
  },
  // ========================================================================
  // PROJETO 2: Manutenção Emergencial (HORAS) - COM HIERARQUIA
  // ========================================================================
  
  // FASE MÃE 1: Diagnóstico
  {
    id: 'ativ-h-fase1',
    projeto_id: 'proj-2',
    codigo: 'FASE-01',
    edt: '1',
    nome: 'Fase 1: Diagnóstico e Preparação',
    descricao: 'Análise do problema e preparação do ambiente',
    tipo: 'Fase',
    data_inicio: '2024-11-20T08:00:00',
    data_fim: '2024-11-20T14:00:00',
    duracao_dias: 0.25,
    duracao_horas: 6,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 100,
    status: 'Concluída',
    responsavel_id: 'user-6',
    responsavel_nome: 'Roberto Tech',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T14:00:00Z',
  },
  
  {
    id: 'ativ-h1',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase1', // Filho da Fase 1
    codigo: 'ME-001',
    nome: 'Análise do Problema',
    descricao: 'Diagnóstico inicial da falha',
    tipo: 'Tarefa',
    data_inicio: '2024-11-20T08:00:00',
    data_fim: '2024-11-20T12:00:00',
    duracao_dias: 0.17,
    duracao_horas: 4,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 100,
    status: 'Concluída',
    responsavel_id: 'user-6',
    responsavel_nome: 'Roberto Tech',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T12:00:00Z',
  },
  {
    id: 'ativ-h2',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase1', // Filho da Fase 1
    codigo: 'ME-002',
    nome: 'Preparação do Ambiente',
    descricao: 'Setup de ferramentas e backups',
    tipo: 'Tarefa',
    data_inicio: '2024-11-20T12:00:00',
    data_fim: '2024-11-20T14:00:00',
    duracao_dias: 0.08,
    duracao_horas: 2,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 100,
    status: 'Concluída',
    responsavel_id: 'user-7',
    responsavel_nome: 'Fernanda Ops',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T14:00:00Z',
  },
  
  // FASE MÃE 2: Correção e Testes
  {
    id: 'ativ-h-fase2',
    projeto_id: 'proj-2',
    codigo: 'FASE-02',
    edt: '2',
    nome: 'Fase 2: Correção e Validação',
    descricao: 'Implementação da correção e testes',
    tipo: 'Fase',
    data_inicio: '2024-11-20T14:00:00',
    data_fim: '2024-11-21T00:00:00',
    duracao_dias: 0.42,
    duracao_horas: 10,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 50,
    status: 'Em Andamento',
    responsavel_id: 'user-6',
    responsavel_nome: 'Roberto Tech',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T19:00:00Z',
  },
  
  {
    id: 'ativ-h3',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase2', // Filho da Fase 2
    codigo: 'ME-003',
    nome: 'Correção do Bug Crítico',
    descricao: 'Implementação da correção',
    tipo: 'Tarefa',
    data_inicio: '2024-11-20T14:00:00',
    data_fim: '2024-11-20T20:00:00',
    duracao_dias: 0.25,
    duracao_horas: 6,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 80,
    status: 'Em Andamento',
    responsavel_id: 'user-6',
    responsavel_nome: 'Roberto Tech',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T19:00:00Z',
  },
  {
    id: 'ativ-h4',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase2', // Filho da Fase 2
    codigo: 'ME-004',
    nome: 'Testes de Regressão',
    descricao: 'Validação da correção',
    tipo: 'Tarefa',
    data_inicio: '2024-11-20T20:00:00',
    data_fim: '2024-11-21T00:00:00',
    duracao_dias: 0.17,
    duracao_horas: 4,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-5',
    responsavel_nome: 'Carlos Oliveira',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T07:00:00Z',
  },
  
  // FASE MÃE 3: Deploy e Monitoramento
  {
    id: 'ativ-h-fase3',
    projeto_id: 'proj-2',
    codigo: 'FASE-03',
    edt: '3',
    nome: 'Fase 3: Deploy e Acompanhamento',
    descricao: 'Implantação e monitoramento',
    tipo: 'Fase',
    data_inicio: '2024-11-21T00:00:00',
    data_fim: '2024-11-21T11:00:00',
    duracao_dias: 0.46,
    duracao_horas: 11,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-7',
    responsavel_nome: 'Fernanda Ops',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T07:00:00Z',
  },
  
  {
    id: 'ativ-h5',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase3', // Filho da Fase 3
    codigo: 'ME-005',
    nome: 'Deploy em Produção',
    descricao: 'Implantação da correção',
    tipo: 'Tarefa',
    data_inicio: '2024-11-21T00:00:00',
    data_fim: '2024-11-21T03:00:00',
    duracao_dias: 0.13,
    duracao_horas: 3,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-7',
    responsavel_nome: 'Fernanda Ops',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T07:00:00Z',
  },
  {
    id: 'ativ-h6',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase3', // Filho da Fase 3
    codigo: 'ME-006',
    nome: 'Monitoramento Pós-Deploy',
    descricao: 'Acompanhamento de métricas',
    tipo: 'Tarefa',
    data_inicio: '2024-11-21T03:00:00',
    data_fim: '2024-11-21T11:00:00',
    duracao_dias: 0.33,
    duracao_horas: 8,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-7',
    responsavel_nome: 'Fernanda Ops',
    e_critica: false,
    folga_total: 2,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T07:00:00Z',
  },
  {
    id: 'ativ-h7',
    projeto_id: 'proj-2',
    parent_id: 'ativ-h-fase3', // Filho da Fase 3
    codigo: 'ME-007',
    nome: 'Relatório Final',
    descricao: 'Documentação da correção',
    tipo: 'Marco',
    data_inicio: '2024-11-21T11:00:00',
    data_fim: '2024-11-21T11:00:00',
    duracao_dias: 0,
    duracao_horas: 0,
    unidade_tempo: UnidadeTempo.HORAS,
    progresso: 0,
    status: 'Não Iniciada',
    responsavel_id: 'user-6',
    responsavel_nome: 'Roberto Tech',
    e_critica: true,
    folga_total: 0,
    calendario_id: 'cal-intensivo-6x8',
    created_at: '2024-11-20T07:00:00Z',
    updated_at: '2024-11-20T07:00:00Z',
  },
];

/**
 * Dependências mockadas entre atividades
 */
export const dependenciasMock: DependenciaAtividade[] = [
  // Planejamento → Levantamento
  {
    id: 'dep-1',
    atividade_origem_id: 'ativ-1',
    atividade_destino_id: 'ativ-2',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Levantamento → Design Arquitetura
  {
    id: 'dep-2',
    atividade_origem_id: 'ativ-2',
    atividade_destino_id: 'ativ-3',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Levantamento → Prototipação (pode começar junto)
  {
    id: 'dep-3',
    atividade_origem_id: 'ativ-2',
    atividade_destino_id: 'ativ-4',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Design Arquitetura → Aprovação
  {
    id: 'dep-4',
    atividade_origem_id: 'ativ-3',
    atividade_destino_id: 'ativ-5',
    tipo: TipoDependencia.FS,
    lag_dias: 1,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Prototipação → Aprovação
  {
    id: 'dep-5',
    atividade_origem_id: 'ativ-4',
    atividade_destino_id: 'ativ-5',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Aprovação → Dev Backend
  {
    id: 'dep-6',
    atividade_origem_id: 'ativ-5',
    atividade_destino_id: 'ativ-6',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Aprovação → Dev Frontend
  {
    id: 'dep-7',
    atividade_origem_id: 'ativ-5',
    atividade_destino_id: 'ativ-7',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Dev Backend → Integração
  {
    id: 'dep-8',
    atividade_origem_id: 'ativ-6',
    atividade_destino_id: 'ativ-8',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Dev Frontend → Integração
  {
    id: 'dep-9',
    atividade_origem_id: 'ativ-7',
    atividade_destino_id: 'ativ-8',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Integração → Testes
  {
    id: 'dep-10',
    atividade_origem_id: 'ativ-8',
    atividade_destino_id: 'ativ-9',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Dev Frontend → Documentação (Start-to-Start)
  {
    id: 'dep-11',
    atividade_origem_id: 'ativ-7',
    atividade_destino_id: 'ativ-10',
    tipo: TipoDependencia.SS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Testes → Homologação
  {
    id: 'dep-12',
    atividade_origem_id: 'ativ-9',
    atividade_destino_id: 'ativ-11',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // Homologação → Deploy
  {
    id: 'dep-13',
    atividade_origem_id: 'ativ-11',
    atividade_destino_id: 'ativ-12',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-10-01T10:00:00Z',
  },
  // ========================================================================
  // DEPENDÊNCIAS PROJETO 2 (HORAS)
  // ========================================================================
  // Análise → Preparação
  {
    id: 'dep-h1',
    atividade_origem_id: 'ativ-h1',
    atividade_destino_id: 'ativ-h2',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
  // Preparação → Correção
  {
    id: 'dep-h2',
    atividade_origem_id: 'ativ-h2',
    atividade_destino_id: 'ativ-h3',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
  // Correção → Testes
  {
    id: 'dep-h3',
    atividade_origem_id: 'ativ-h3',
    atividade_destino_id: 'ativ-h4',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
  // Testes → Deploy
  {
    id: 'dep-h4',
    atividade_origem_id: 'ativ-h4',
    atividade_destino_id: 'ativ-h5',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
  // Deploy → Monitoramento
  {
    id: 'dep-h5',
    atividade_origem_id: 'ativ-h5',
    atividade_destino_id: 'ativ-h6',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
  // Monitoramento → Relatório
  {
    id: 'dep-h6',
    atividade_origem_id: 'ativ-h6',
    atividade_destino_id: 'ativ-h7',
    tipo: TipoDependencia.FS,
    lag_dias: 0,
    created_at: '2024-11-20T07:00:00Z',
  },
];

